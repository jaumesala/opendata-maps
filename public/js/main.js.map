{"version":3,"sources":["main.js","pages/home/index.js","pages/neighborhoods/index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/* @preserve \n *\n * Author:  Jaume Sala\n * Website: jaumesala.net\n *\n */\n\n\n/* ---------- SITE OBJECT ---------- */\n\nSITE = {\n    common: {\n        init: function() {\n            \n        }\n    },\n\n    home: {\n        init: function() {\n            console.log('home');\n        }\n    },\n\n    neighborhoods: {\n        init: function() {\n            console.log('neighborhoods');\n        }\n    }\n\n}\n\n\n\n/* ---------------------------------------------------------------------------------------------------- */\nUTIL = {\n    exec: function(controller, action) {\n        var ns = SITE,\n            action = (action === undefined) ? \"init\" : action;\n\n        if (controller !== \"\" && ns[controller] && typeof ns[controller][action] == \"function\") {\n            ns[controller][action]();\n        }\n    },\n\n    init: function() {\n        var body = document.body,\n            controller = body.getAttribute(\"data-controller\"),\n            action = body.getAttribute(\"data-action\");\n\n        UTIL.exec(\"common\");\n        UTIL.exec(controller);\n        UTIL.exec(controller, action);\n    }\n};\n/* ---------------------------------------------------------------------------------------------------- */\n\n\n//Let's go baby!\n$(document).ready(UTIL.init);","SITE.home.index = function(){\n\n    console.log('index');\n}","SITE.neighborhoods.index = function(){\n\n\tconsole.log('index');\n\n    mapboxgl.accessToken = 'pk.eyJ1IjoiamF1bWVzYWxhIiwiYSI6ImNpanZ4dmlndDAwNWl2Mm00d3RpY2VweTkifQ.fh0cb8ZJhawwDnZUlZx47Q';\n    var map = new mapboxgl.Map({\n        container: 'map', // container id\n        style: 'mapbox://styles/jaumesala/cikedqlyp00bbkqlxe7kzopov', //stylesheet location\n        center: [4.390819, 51.926960], // starting position\n        zoom: 13, // starting zoom\n        pitch: 45, // pitch in degrees\n        bearing: -20, // bearing in degrees\n    });\n\n    map.on('style.load', function () {\n        console.log(\"Styles loaded!\");\n\n        map.addSource('neighborhoods', {\n            'type': 'geojson',\n            'data': 'http://schiedam-map.app/datasets/neighborhoods.geojson'\n        });\n\n        \n\n        map.addControl(new mapboxgl.Navigation());\n\n        // neighbourhoods fill\n        map.addLayer({\n            'id': 'nbhFill',\n            'type': 'fill',\n            'source': 'neighborhoods',\n            'layout': {},\n            'interactive': true,\n            'paint': {\n                'fill-color': '#088',\n                'fill-opacity': 0.5,\n            },\n            'filter': [ 'all', \n                ['==', 'TYPE', 'Buurt' ]\n            ]\n        });\n        // neighbourhoods hover\n        map.addLayer({\n            'id': 'nbhFill-hover',\n            'type': 'fill',\n            'source': 'neighborhoods',\n            'layout': {},\n            'paint': {\n                'fill-color': '#930',\n                'fill-opacity': 0.5,\n            },\n            'filter': [ 'all', \n                ['==', 'ID', 'NONE' ]\n            ]\n        });\n\n        // zones line\n        map.addLayer({\n            'id': 'nbhLine',\n            'type': 'line',\n            'source': 'neighborhoods',\n            'layout': {},\n            'paint': {\n                'line-color': '#000'\n            }\n        });\n\n        // A simple test to add a filter to a already added layer \n        // to show line only in \"zones\"\n        // Buurt = neighbourhood\n        // Wijk = zones\n        map.setFilter('nbhLine', [\"==\", \"TYPE\", \"Wijk\"]);\n\n        // paint current hover position using \"the hover layer\"\n        map.on('mousemove', function (e) {\n            // query the map for the under the mouse\n            map.featuresAt(e.point, { radius: 5, layer: 'nbhFill', includeGeometry: true }, function (err, features) {\n                if (err) throw err\n                // console.log(e.point, features)\n                \n                var ids = features.map(function (feat) { return feat.properties.ID })\n                // console.log(ids)\n                \n                // set the filter on the hover style layer to only select the features\n                // currently under the mouse\n                map.setFilter('nbhFill-hover', [ 'all',\n                    [ 'in', 'ID' ].concat(ids)\n                ])\n            });\n        });\n\n    });\n\n}"],"sourceRoot":"/source/"}